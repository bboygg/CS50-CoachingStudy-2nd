require=function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c||a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({"/entries/common/_sns.share.service.entry.js":[function(a,b,c){var d=a("../../modules/common/service/sns.share.service.js");b.exports={initialize:function(a,b){new d({el:a},b)}}},{"../../modules/common/service/sns.share.service.js":1}],1:[function(a,b,c){b.exports=Backbone.View.extend({__name:"sns.share.service.js",el:null,events:{"click [data-sns-layer] a":"_snsShareClick","click ._a_course_sns":"_snsShareClick"},_oClickEl:{snsShareLayerBtn:"[data-sns-share]",snsShareLayer:"[data-sns-layer]",snsShareBtn:"[data-sns-layer] a",urlCopyBtn:'[data-type="urlCopy"]'},_htOptions:null,_leftSize:screen.width/2-500,_topSize:screen.height/2-300,initialize:function(a,b){this._htOptions=b,this._courseUrl=b.url,this._attachEvents(),$(document).on("DOCUMENT_CLICKED",$.proxy(this._hideShare,this)),this.$el.data("snsOptions",b)},_attachEvents:function(){this.$el.find(this._oClickEl.snsShareLayerBtn).on("click",$.proxy(this._snsShareLayerToggle,this)),this.$el.find(this._oClickEl.urlCopyBtn).on("click",$.proxy(this._copyUrl,this))},_hideShare:function(a){$(this._oClickEl.snsShareLayer).removeClass("on"),$(this._oClickEl.snsShareLayerBtn).removeClass("active")},_copyUrl:function(a){function b(){return-1==navigator.userAgent.toLowerCase().indexOf("chrome")&&(-1!=navigator.userAgent.toLowerCase().indexOf("msie")||-1!=navigator.userAgent.toLowerCase().indexOf("windows nt"))}var c=this._courseUrl;if(document.execCommand){var d=document.createElement("input"),e=a.target;d.style="type: hidden",d.value=e.getAttribute("data-clipboard-text"),document.body.appendChild(d),d.select(),!0===document.execCommand("copy")&&(document.body.removeChild(d),this._completeCopy())}else!0===b()?(window.clipboardData.setData("Text",c),this._completeCopy()):prompt("Ctrl+C를 눌러 복사하세요.",c)&&this._completeCopy()},_completeCopy:function(){$("body").hasClass("mac")?alert($.i18n.prop("sns.gsp.page.copy.url.after.mac.label")):alert($.i18n.prop("sns.gsp.page.copy.url.after.label")),this.$el.find(this._oClickEl.snsShareLayer).removeClass("on")},_snsShareLayerToggle:function(a){this.$el.find(this._oClickEl.snsShareLayer).hasClass("on")||(clickcr(this,"ltp.share","","",a),this._hideShare(),this.$el.find(this._oClickEl.snsShareLayer).toggleClass("on"),this.$el.find(this._oClickEl.snsShareLayerBtn).toggleClass("active"),a.stopPropagation())},_snsShareClick:function(a){var b=$(a.target),c=b.attr("data-type");if(this._sendSnsTrackingInfo(c),"urlCopy"===c)return!1;this.$el.find(this._oClickEl.snsShareLayer).removeClass("on"),this["_"+c].apply(this,this._htOptions[c]),a.preventDefault()},_sendSnsTrackingInfo:function(a){var b=this._htOptions.url;"urlCopy"===a?a="url":"googlePlus"===a&&(a="google"),$.ajax({url:"/sns",contentType:"application/json",data:{shareType:a.toUpperCase(),shareUrl:b},success:function(a){}})},_twitter:function(a,b,c,d){var e="width=500, height=450, top="+this._topSize+", left="+this._leftSize+", toolbar=no, menubar=no, location=no, scrollbar=yes, status=no",f="https://twitter.com/intent/tweet?url="+encodeURIComponent(a)+"&text="+encodeURIComponent(b)+"&related="+c+"&hashtags="+d;window.open(f,"shareTwitterPopup",e)},_facebook:function(a,b,c){var d="width=1000, height=600, top="+this._topSize+", left="+this._leftSize+", toolbar=no, menubar=no, location=no, scrollbar=yes, status=no",e="https://www.facebook.com/dialog/feed?app_id="+b+"&redirect_uri="+encodeURIComponent(c)+"&link="+encodeURIComponent(a);window.open(e,"shareFacebookPopup",d)},_googlePlus:function(a){var b="width=500, height=650, top="+this._topSize+", left="+this._leftSize+", toolbar=no, menubar=no, location=no, scrollbar=yes, status=no",c="https://plus.google.com/share?url="+encodeURIComponent(a);window.open(c,"shareGooglePlusPopup",b)},_band:function(a,b){var c=$("<div/>").html(b).text(),d="width=500, height=650, top="+this._topSize+", left="+this._leftSize+", toolbar=no, menubar=no, location=no, scrollbar=yes, status=no",e="https://www.band.us/plugin/share?body="+encodeURIComponent(c)+encodeURIComponent("\n")+encodeURIComponent(a);window.open(e,"shareBandPopup",d)},_linkedIn:function(a){var b="width=500, height=650, top="+this._topSize+", left="+this._leftSize+", toolbar=no, menubar=no, location=no, scrollbar=yes, status=no",c="https://www.linkedin.com/shareArticle?url="+encodeURIComponent(a);window.open(c,"shareBandPopup",b)}})},{}]},{},["/entries/common/_sns.share.service.entry.js"]);